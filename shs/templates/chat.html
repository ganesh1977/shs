<!doctype html>
<html>
  <body>
    <h1>GCP LLM Chat</h1>
    <textarea id="msg" rows="4" cols="60" placeholder="Say hi..."></textarea><br/>
    <button id="send">Send</button>
    <pre id="out"></pre>

    <script>
      const sendBtn = document.getElementById("send");
      const out = document.getElementById("out");
      sendBtn.onclick = async () => {
        const message = document.getElementById("msg").value;
        out.textContent = "Thinking...";
        const r = await fetch("/api/chat/", {
          method: "POST",
          headers: {"Content-Type": "application/json"},
          body: JSON.stringify({ message })
        });
        const data = await r.json();
        out.textContent = data.reply || data.error || "(no reply)";
      };
    </script>
  </body>
</html>
